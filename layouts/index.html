{{ define "main" }}

<!-- 이미지 슬라이더 -->
<div class="slider">
  <div class="slides">
    <div class="slide">
      <img src="/images/slider1.jpg" alt="Slider Image 1">
    </div>
    <div class="slide">
      <img src="/images/slider2.jpg" alt="Slider Image 2">
    </div>
    <div class="slide">
      <img src="/images/slider3.jpg" alt="Slider Image 3">
    </div>
  </div>

  <!-- 슬라이더 네비게이션 버튼 -->
  <button class="prev">&#10094;</button>
  <button class="next">&#10095;</button>
</div>

<!-- 카드 레이아웃 -->
<div class="cards-container">
  {{ range first 9 .Pages }}
    <div class="card">
      <img src="{{ .Params.featured }}" alt="{{ .Title }}" class="card-img">
      <h2>{{ .Title }}</h2>
      <p>{{ .Summary }}</p>
      <a href="{{ .RelPermalink }}">Read more</a>
    </div>
  {{ end }}
</div>

<!-- 슬라이더 및 카드 스타일 -->
<style>
/* 슬라이더 기본 스타일 */
.slider {
  position: relative;
  width: 100%;  /* 슬라이더가 페이지 너비 전체를 차지하도록 */
  overflow: hidden;
  display: flex;
  justify-content: center; /* 슬라이더 안의 내용을 가운데 정렬 */
}

.slides {
  display: flex;
  transition: transform 0.5s ease-in-out;
}

.slide {
  display: flex;
  justify-content: center; /* 이미지를 슬라이더 안에서 가운데 정렬 */
  min-width: 100%; /* 각 슬라이드가 슬라이더 전체를 차지 */
}

.slide img {
  width: 30%; /* 이미지를 작게 조정 */
  height: auto;
}

/* 슬라이더 네비게이션 버튼 */
.prev, .next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
  font-size: 18px;
  z-index: 2;
}

.prev {
  left: 10px;
}

.next {
  right: 10px;
}

/* 카드 레이아웃 스타일 */
.cards-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-top: 40px;
}

.card {
  padding: 20px;
  border: 1px solid #ddd;
  text-align: center;
}

.card-img {
  width: 30%;  /* 카드의 이미지 크기 */
  height: auto;
  margin-bottom: 10px;
}
</style>

<script>
let slideIndex = 0;
const slides = document.querySelector('.slides');
const totalSlides = slides.children.length;

document.querySelector('.prev').addEventListener('click', () => {
  slideIndex = (slideIndex - 1 + totalSlides) % totalSlides;
  updateSlidePosition();
});

document.querySelector('.next').addEventListener('click', () => {
  slideIndex = (slideIndex + 1) % totalSlides;
  updateSlidePosition();
});

function updateSlidePosition() {
  slides.style.transform = `translateX(-${slideIndex * 100}%)`;
}
</script>

{{ end }}
